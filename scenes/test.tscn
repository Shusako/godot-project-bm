[gd_scene load_steps=10 format=4 uid="uid://davsqutqqvowt"]

[ext_resource type="PackedScene" uid="uid://dv1esximyq2bf" path="res://assets/player/player.tscn" id="1_ctdg3"]
[ext_resource type="Script" path="res://scenes/world.gd" id="2_d8bd8"]
[ext_resource type="TileSet" uid="uid://c5v1eftv4tm7s" path="res://assets/tilemap/tileset.tres" id="3_y6f0w"]
[ext_resource type="PackedScene" uid="uid://eiggy1ciolum" path="res://assets/actor/Actor.tscn" id="4_m7tit"]
[ext_resource type="PackedScene" uid="uid://cvkeog3h6kyxk" path="res://assets/actor/ai/BasicAI.tscn" id="5_p5wxw"]

[sub_resource type="Animation" id="Animation_vmehq"]
resource_name = "startup"
length = 7.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Camera2D:zoom")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(-5.96046e-08, 1, 5.96667, 6.93333),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector2(1, 1), Vector2(2.49, 2.49), Vector2(2.49, 2.49), Vector2(1, 1)]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Actors/Player")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(1, 6.93333),
"transitions": PackedFloat32Array(1, 1),
"values": [{
"args": [],
"method": &"playStabAnimation"
}, {
"args": [],
"method": &"onStabFinished"
}]
}

[sub_resource type="Animation" id="Animation_avx41"]
length = 5.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Camera2D:zoom")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1, 1)]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Actors/Player")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(),
"transitions": PackedFloat32Array(),
"values": []
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_5dann"]
_data = {
"RESET": SubResource("Animation_avx41"),
"startup": SubResource("Animation_vmehq")
}

[sub_resource type="RectangleShape2D" id="RectangleShape2D_r1r8m"]
size = Vector2(20, 26)

[node name="Test" type="Node2D"]

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_5dann")
}
autoplay = "startup"

[node name="Camera2D" type="Camera2D" parent="."]

[node name="World" type="Node" parent="."]
script = ExtResource("2_d8bd8")

[node name="BackgroundLayer" type="TileMapLayer" parent="World"]
tile_map_data = PackedByteArray("AAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAD//wEAAAAAAAAAAAD//wAAAAAAAAAAAAD/////AAAAAAAAAAAAAP//AAAAAAAAAAABAP//AAAAAAAAAAABAAAAAAAAAAAAAAABAAEAAAAAAAAAAAD+/wEAAAAAAAAAAAD+/wAAAAAAAAAAAAD+////AAAAAAAAAAD+//7/AAAAAAAAAAD///7/AAAAAAAAAAAAAP7/AAAAAAAAAAABAP7/AAAAAAAAAAACAP//AAAAAAAAAAACAAAAAAAAAAAAAAACAAEAAAAAAAAAAAACAAIAAAAAAAAAAAABAAIAAAAAAAAAAAAAAAIAAAAAAAAAAAD//wIAAAAAAAAAAAD+/wIAAAAAAAAAAAACAP7/AAAAAAAAAAACAP3/AAAAAAAAAAABAP3/AAAAAAAAAAAAAP3/AAAAAAAAAAD///3/AAAAAAAAAAD+//3/AAAAAAAAAAD9//3/AAAAAAAAAAD9//7/AAAAAAAAAAD9////AAAAAAAAAAD9/wAAAAAAAAAAAAD9/wEAAAAAAAAAAAD9/wIAAAAAAAAAAAD9/wMAAAAAAAAAAAD+/wMAAAAAAAAAAAD//wMAAAAAAAAAAAAAAAMAAAAAAAAAAAABAAMAAAAAAAAAAAACAAMAAAAAAAAAAAADAAMAAAAAAAAAAAADAAIAAAAAAAAAAAADAAEAAAAAAAAAAAADAAAAAAAAAAAAAAADAP//AAAAAAAAAAADAP7/AAAAAAAAAAADAP3/AAAAAAAAAAADAPz/AAAAAAAAAAACAPz/AAAAAAAAAAABAPz/AAAAAAAAAAAAAPz/AAAAAAAAAAD///z/AAAAAAAAAAD+//z/AAAAAAAAAAD9//z/AAAAAAAAAAD8//z/AAAAAAAAAAD8//3/AAAAAAAAAAD8//7/AAAAAAAAAAD8////AAAAAAAAAAD7////AAAAAAAAAAD7/wAAAAAAAAAAAAD7/wEAAAAAAAAAAAD7/wIAAAAAAAAAAAD7/wMAAAAAAAAAAAD8/wMAAAAAAAAAAAD8/wIAAAAAAAAAAAD8/wEAAAAAAAAAAAD8/wAAAAAAAAAAAAD7//3/AAAAAAAAAAD7//z/AAAAAAAAAAD7//7/AAAAAAAAAAD7/wQAAAAAAAAAAAD8/wQAAAAAAAAAAAD9/wQAAAAAAAAAAAD+/wQAAAAAAAAAAAD//wQAAAAAAAAAAAAAAAQAAAAAAAAAAAABAAQAAAAAAAAAAAACAAQAAAAAAAAAAAADAAQAAAAAAAAAAAAEAAQAAAAAAAAAAAAEAAMAAAAAAAAAAAAEAAIAAAAAAAAAAAAEAAEAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAP//AAAAAAAAAAAEAP7/AAAAAAAAAAAEAP3/AAAAAAAAAAAEAPz/AAAAAAAAAAD7//v/AAAAAAAAAAD8//v/AAAAAAAAAAD9//v/AAAAAAAAAAD+//v/AAAAAAAAAAD///v/AAAAAAAAAAAAAPv/AAAAAAAAAAABAPv/AAAAAAAAAAACAPv/AAAAAAAAAAADAPv/AAAAAAAAAAAEAPv/AAAAAAAAAAA=")
tile_set = ExtResource("3_y6f0w")

[node name="CollisionLayer" type="TileMapLayer" parent="World"]
tile_map_data = PackedByteArray("AAACAP3/AAABAAAAAAABAAMAAAABAAAAAAD9/wMAAAABAAAAAAD8//v/AAACAAAAAAD9//v/AAADAAAAAAD+//v/AAADAAAAAAD///v/AAADAAAAAAAAAPv/AAAEAAAAAAA=")
tile_set = ExtResource("3_y6f0w")

[node name="Actors" type="Node" parent="."]

[node name="Player" parent="Actors" instance=ExtResource("1_ctdg3")]
SPEED = 100.0

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="Actors/Player"]
remote_path = NodePath("../../../Camera2D")

[node name="Enemy" type="RigidBody2D" parent="Actors"]
position = Vector2(0, -329)
collision_layer = 4
collision_mask = 0

[node name="Actor" parent="Actors/Enemy" instance=ExtResource("4_m7tit")]

[node name="BasicAi" parent="Actors/Enemy/Actor" instance=ExtResource("5_p5wxw")]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Actors/Enemy"]
position = Vector2(0, -13)
shape = SubResource("RectangleShape2D_r1r8m")

[node name="ColorRect" type="ColorRect" parent="Actors/Enemy"]
offset_left = -20.0
offset_top = -40.0
offset_right = 20.0
